/***Copyright(c)MetaPlatforms,Inc.andaffiliates.**ThissourcecodeislicensedundertheMITlicensefoundinthe*LICENSEfileintherootdirectoryofthissourcetree.**@flow*/importtype{LazyComponent}from'react/src/ReactLazy';importtype{ReactContext,ReactProviderType}from'shared/ReactTypes';import{REACT_CONTEXT_TYPE,REACT_FORWARD_REF_TYPE,REACT_FRAGMENT_TYPE,REACT_PORTAL_TYPE,REACT_MEMO_TYPE,REACT_PROFILER_TYPE,REACT_PROVIDER_TYPE,REACT_STRICT_MODE_TYPE,REACT_SUSPENSE_TYPE,REACT_SUSPENSE_LIST_TYPE,REACT_LAZY_TYPE,REACT_CACHE_TYPE,REACT_TRACING_MARKER_TYPE,REACT_SERVER_CONTEXT_TYPE,}from'shared/ReactSymbols';import{enableServerContext,enableTransitionTracing,enableCache,}from'./ReactFeatureFlags';//Keepinsyncwithreact-reconciler/getComponentNameFromFiberfunctiongetWrappedName(outerType:mixed,innerType:any,wrapperName:string,):string{constdisplayName=(outerType:any).displayName;if(displayName){returndisplayName;}constfunctionName=innerType.displayName||innerType.name||'';returnfunctionName!==''?`${wrapperName}(${functionName})`:wrapperName;}//Keepinsyncwithreact-reconciler/getComponentNameFromFiberfunctiongetContextName(type:ReactContext<any>){returntype.displayName||'Context';}//NotethatthereconcilerpackageshouldgenerallyprefertousegetComponentNameFromFiber()instead.exportdefaultfunctiongetComponentNameFromType(type:mixed):string|null{if(type==null){//Hostroot,textnodeorjustinvalidtype.returnnull;}if(__DEV__){if(typeof(type:any).tag==='number'){console.error('ReceivedanunexpectedobjectingetComponentNameFromType().'+'ThisislikelyabuginReact.Pleasefileanissue.',);}}if(typeoftype==='function'){return(type:any).displayName||type.name||null;}if(typeoftype==='string'){returntype;}switch(type){caseREACT_FRAGMENT_TYPE:return'Fragment';caseREACT_PORTAL_TYPE:return'Portal';caseREACT_PROFILER_TYPE:return'Profiler';caseREACT_STRICT_MODE_TYPE:return'StrictMode';caseREACT_SUSPENSE_TYPE:return'Suspense';caseREACT_SUSPENSE_LIST_TYPE:return'SuspenseList';caseREACT_CACHE_TYPE:if(enableCache){return'Cache';}//FallthroughcaseREACT_TRACING_MARKER_TYPE:if(enableTransitionTracing){return'TracingMarker';}}if(typeoftype==='object'){switch(type.$$typeof){caseREACT_CONTEXT_TYPE:constcontext:ReactContext<any>=(type:any);returngetContextName(context)+'.Consumer';caseREACT_PROVIDER_TYPE:constprovider:ReactProviderType<any>=(type:any);returngetContextName(provider._context)+'.Provider';caseREACT_FORWARD_REF_TYPE:returngetWrappedName(type,type.render,'ForwardRef');caseREACT_MEMO_TYPE:constouterName=(type:any).displayName||null;if(outerName!==null){returnouterName;}returngetComponentNameFromType(type.type)||'Memo';caseREACT_LAZY_TYPE:{constlazyComponent:LazyComponent<any,any>=(type:any);constpayload=lazyComponent._payload;constinit=lazyComponent._init;try{returngetComponentNameFromType(init(payload));}catch(x){returnnull;}}caseREACT_SERVER_CONTEXT_TYPE:if(enableServerContext){constcontext2=((type:any):ReactContext<any>);return(context2.displayName||context2._globalName)+'.Provider';}}}returnnull;}