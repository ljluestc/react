/***Copyright(c)MetaPlatforms,Inc.andaffiliates.**ThissourcecodeislicensedundertheMITlicensefoundinthe*LICENSEfileintherootdirectoryofthissourcetree.**@flow*///Helperstopatchconsole.logstoavoidloggingduringside-effectfree//replayingonrenderfunction.Thiscurrentlyonlypatchestheobject//lazilywhichwon'tcoverifthelogfunctionwasextractedeagerly.//Wecouldalsoeagerlypatchthemethod.letdisabledDepth=0;letprevLog;letprevInfo;letprevWarn;letprevError;letprevGroup;letprevGroupCollapsed;letprevGroupEnd;functiondisabledLog(){}disabledLog.__reactDisabledLog=true;exportfunctiondisableLogs():void{if(__DEV__){if(disabledDepth===0){/*eslint-disablereact-internal/no-production-logging*/prevLog=console.log;prevInfo=console.info;prevWarn=console.warn;prevError=console.error;prevGroup=console.group;prevGroupCollapsed=console.groupCollapsed;prevGroupEnd=console.groupEnd;//https://github.com/facebook/react/issues/19099constprops={configurable:true,enumerable:true,value:disabledLog,writable:true,};//$FlowFixMe[cannot-write]Flowthinksconsoleisimmutable.Object.defineProperties(console,{info:props,log:props,warn:props,error:props,group:props,groupCollapsed:props,groupEnd:props,});/*eslint-enablereact-internal/no-production-logging*/}disabledDepth++;}}exportfunctionreenableLogs():void{if(__DEV__){disabledDepth--;if(disabledDepth===0){/*eslint-disablereact-internal/no-production-logging*/constprops={configurable:true,enumerable:true,writable:true,};//$FlowFixMe[cannot-write]Flowthinksconsoleisimmutable.Object.defineProperties(console,{log:{...props,value:prevLog},info:{...props,value:prevInfo},warn:{...props,value:prevWarn},error:{...props,value:prevError},group:{...props,value:prevGroup},groupCollapsed:{...props,value:prevGroupCollapsed},groupEnd:{...props,value:prevGroupEnd},});/*eslint-enablereact-internal/no-production-logging*/}if(disabledDepth<0){console.error('disabledDepthfellbelowzero.'+'ThisisabuginReact.Pleasefileanissue.',);}}}