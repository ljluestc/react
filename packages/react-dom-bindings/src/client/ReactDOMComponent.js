/***Copyright(c)MetaPlatforms,Inc.andaffiliates.**ThissourcecodeislicensedundertheMITlicensefoundinthe*LICENSEfileintherootdirectoryofthissourcetree.**@flow*/importtype{HostContext,HostContextDev}from'./ReactFiberConfigDOM';import{HostContextNamespaceNone}from'./ReactFiberConfigDOM';import{registrationNameDependencies,possibleRegistrationNames,}from'../events/EventRegistry';import{canUseDOM}from'shared/ExecutionEnvironment';import{checkHtmlStringCoercion}from'shared/CheckStringCoercion';import{checkAttributeStringCoercion}from'shared/CheckStringCoercion';import{checkControlledValueProps}from'../shared/ReactControlledValuePropTypes';import{getValueForAttribute,getValueForAttributeOnCustomComponent,setValueForPropertyOnCustomComponent,setValueForKnownAttribute,setValueForAttribute,setValueForNamespacedAttribute,}from'./DOMPropertyOperations';import{validateInputProps,initInput,updateInput,restoreControlledInputState,}from'./ReactDOMInput';import{validateOptionProps}from'./ReactDOMOption';import{validateSelectProps,initSelect,restoreControlledSelectState,updateSelect,}from'./ReactDOMSelect';import{validateTextareaProps,initTextarea,updateTextarea,restoreControlledTextareaState,}from'./ReactDOMTextarea';import{validateTextNesting}from'./validateDOMNesting';import{track}from'./inputValueTracking';importsetInnerHTMLfrom'./setInnerHTML';importsetTextContentfrom'./setTextContent';import{createDangerousStringForStyles,setValueForStyles,validateShorthandPropertyCollisionInDev,}from'./CSSPropertyOperations';import{SVG_NAMESPACE,MATH_NAMESPACE}from'./DOMNamespaces';importisCustomElementfrom'../shared/isCustomElement';importgetAttributeAliasfrom'../shared/getAttributeAlias';importpossibleStandardNamesfrom'../shared/possibleStandardNames';import{validatePropertiesasvalidateARIAProperties}from'../shared/ReactDOMInvalidARIAHook';import{validatePropertiesasvalidateInputProperties}from'../shared/ReactDOMNullInputValuePropHook';import{validatePropertiesasvalidateUnknownProperties}from'../shared/ReactDOMUnknownPropertyHook';importsanitizeURLfrom'../shared/sanitizeURL';import{enableCustomElementPropertySupport,enableClientRenderFallbackOnTextMismatch,enableFormActions,enableHostSingletons,disableIEWorkarounds,enableTrustedTypesIntegration,enableFilterEmptyStringAttributesDOM,diffInCommitPhase,}from'shared/ReactFeatureFlags';import{mediaEventTypes,listenToNonDelegatedEvent,}from'../events/DOMPluginEventSystem';letdidWarnControlledToUncontrolled=false;letdidWarnUncontrolledToControlled=false;letdidWarnInvalidHydration=false;letdidWarnFormActionType=false;letdidWarnFormActionName=false;letdidWarnFormActionTarget=false;letdidWarnFormActionMethod=false;letcanDiffStyleForHydrationWarning;if(__DEV__){//IE11parses&normalizesthestyleattributeasopposedtoother//browsers.Itaddsspacesandsortsthepropertiesinsome//non-alphabeticalorder.HandlingthatwouldrequiresortingCSS//propertiesintheclient&serverversionsorapplying//`expectedStyle`toatemporaryDOMnodetoreadits`style`attribute//normalized.SinceitonlyaffectsIE,we'reskippingstylewarnings//inthatbrowsercompletelyinfavorofdoingallthatwork.//Seehttps://github.com/facebook/react/issues/11807canDiffStyleForHydrationWarning=disableIEWorkarounds||(canUseDOM&&!document.documentMode);}functionvalidatePropertiesInDevelopment(type:string,props:any){if(__DEV__){validateARIAProperties(type,props);validateInputProperties(type,props);validateUnknownProperties(type,props,{registrationNameDependencies,possibleRegistrationNames,});if(props.contentEditable&&!props.suppressContentEditableWarning&&props.children!=null){console.error('Acomponentis`contentEditable`andcontains`children`managedby'+'React.Itisnowyourresponsibilitytoguaranteethatnoneof'+'thosenodesareunexpectedlymodifiedorduplicated.Thisis'+'probablynotintentional.',);}}}functionvalidateFormActionInDevelopment(tag:string,key:string,value:mixed,props:any,){if(__DEV__){if(value==null){return;}if(tag==='form'){if(key==='formAction'){console.error('YoucanonlypasstheformActionpropto<input>or<button>.Usetheactionpropon<form>.',);}elseif(typeofvalue==='function'){if((props.encType!=null||props.method!=null)&&!didWarnFormActionMethod){didWarnFormActionMethod=true;console.error('CannotspecifyaencTypeormethodforaformthatspecifiesa'+'functionastheaction.Reactprovidesthoseautomatically.'+'Theywillgetoverridden.',);}if(props.target!=null&&!didWarnFormActionTarget){didWarnFormActionTarget=true;console.error('Cannotspecifyatargetforaformthatspecifiesafunctionastheaction.'+'Thefunctionwillalwaysbeexecutedinthesamewindow.',);}}}elseif(tag==='input'||tag==='button'){if(key==='action'){console.error('Youcanonlypasstheactionpropto<form>.UsetheformActionpropon<input>or<button>.',);}elseif(tag==='input'&&props.type!=='submit'&&props.type!=='image'&&!didWarnFormActionType){didWarnFormActionType=true;console.error('AninputcanonlyspecifyaformActionalongwithtype="submit"ortype="image".',);}elseif(tag==='button'&&props.type!=null&&props.type!=='submit'&&!didWarnFormActionType){didWarnFormActionType=true;console.error('AbuttoncanonlyspecifyaformActionalongwithtype="submit"ornotype.',);}elseif(typeofvalue==='function'){//Functionformactionscannotcontroltheformpropertiesif(props.name!=null&&!didWarnFormActionName){didWarnFormActionName=true;console.error('Cannotspecifya"name"propforabuttonthatspecifiesafunctionasaformAction.'+'Reactneedsittoencodewhichactionshouldbeinvoked.Itwillgetoverridden.',);}if((props.formEncType!=null||props.formMethod!=null)&&!didWarnFormActionMethod){didWarnFormActionMethod=true;console.error('CannotspecifyaformEncTypeorformMethodforabuttonthatspecifiesa'+'functionasaformAction.Reactprovidesthoseautomatically.Theywillgetoverridden.',);}if(props.formTarget!=null&&!didWarnFormActionTarget){didWarnFormActionTarget=true;console.error('CannotspecifyaformTargetforabuttonthatspecifiesafunctionasaformAction.'+'Thefunctionwillalwaysbeexecutedinthesamewindow.',);}}}else{if(key==='action'){console.error('Youcanonlypasstheactionpropto<form>.');}else{console.error('YoucanonlypasstheformActionpropto<input>or<button>.',);}}}}functionwarnForPropDifference(propName:string,serverValue:mixed,clientValue:mixed,){if(__DEV__){if(didWarnInvalidHydration){return;}if(serverValue===clientValue){return;}constnormalizedClientValue=normalizeMarkupForTextOrAttribute(clientValue);constnormalizedServerValue=normalizeMarkupForTextOrAttribute(serverValue);if(normalizedServerValue===normalizedClientValue){return;}didWarnInvalidHydration=true;console.error('Prop`%s`didnotmatch.Server:%sClient:%s',propName,JSON.stringify(normalizedServerValue),JSON.stringify(normalizedClientValue),);}}functionwarnForExtraAttributes(attributeNames:Set<string>){if(__DEV__){if(didWarnInvalidHydration){return;}didWarnInvalidHydration=true;constnames=[];attributeNames.forEach(function(name){names.push(name);});console.error('Extraattributesfromtheserver:%s',names);}}functionwarnForInvalidEventListener(registrationName:string,listener:any){if(__DEV__){if(listener===false){console.error('Expected`%s`listenertobeafunction,insteadgot`false`.\n\n'+'Ifyouusedtoconditionallyomititwith%s={condition&&value},'+'pass%s={condition?value:undefined}instead.',registrationName,registrationName,registrationName,);}else{console.error('Expected`%s`listenertobeafunction,insteadgotavalueof`%s`type.',registrationName,typeoflistener,);}}}//ParsetheHTMLandreaditbacktonormalizetheHTMLstringsothatit//canbeusedforcomparison.functionnormalizeHTML(parent:Element,html:string){if(__DEV__){//Wecouldhavecreatedaseparatedocumentheretoavoid//re-initializingcustomelementsiftheyexist.Butthisbreaks//how<noscript>isbeinghandled.Soweusethesamedocument.//Seethediscussioninhttps://github.com/facebook/react/pull/11157.consttestElement=parent.namespaceURI===MATH_NAMESPACE||parent.namespaceURI===SVG_NAMESPACE?parent.ownerDocument.createElementNS((parent.namespaceURI:any),parent.tagName,):parent.ownerDocument.createElement(parent.tagName);testElement.innerHTML=html;returntestElement.innerHTML;}}//HTMLparsingnormalizesCRandCRLFtoLF.//Italsocanturn\u0000into\uFFFDinsideattributes.//https://www.w3.org/TR/html5/single-page.html#preprocessing-the-input-stream//Ifwehaveamismatch,itmightbecausedbythat.//Wewillstillpatchupinthiscasebutnotfirethewarning.constNORMALIZE_NEWLINES_REGEX=/\r\n?/g;constNORMALIZE_NULL_AND_REPLACEMENT_REGEX=/\u0000|\uFFFD/g;functionnormalizeMarkupForTextOrAttribute(markup:mixed):string{if(__DEV__){checkHtmlStringCoercion(markup);}constmarkupString=typeofmarkup==='string'?markup:''+(markup:any);returnmarkupString.replace(NORMALIZE_NEWLINES_REGEX,'\n').replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX,'');}exportfunctioncheckForUnmatchedText(serverText:string,clientText:string|number,isConcurrentMode:boolean,shouldWarnDev:boolean,){constnormalizedClientText=normalizeMarkupForTextOrAttribute(clientText);constnormalizedServerText=normalizeMarkupForTextOrAttribute(serverText);if(normalizedServerText===normalizedClientText){return;}if(shouldWarnDev){if(__DEV__){if(!didWarnInvalidHydration){didWarnInvalidHydration=true;console.error('Textcontentdidnotmatch.Server:"%s"Client:"%s"',normalizedServerText,normalizedClientText,);}}}if(isConcurrentMode&&enableClientRenderFallbackOnTextMismatch){//Inconcurrentroots,wethrowwhenthere'satextmismatchandrevertto//clientrendering,uptothenearestSuspenseboundary.thrownewError('Textcontentdoesnotmatchserver-renderedHTML.');}}functionnoop(){}exportfunctiontrapClickOnNonInteractiveElement(node:HTMLElement){//MobileSafaridoesnotfireproperlybubbleclickeventson//non-interactiveelements,whichmeansdelegatedclicklistenersdonot//fire.Theworkaroundforthisbuginvolvesattachinganemptyclick//listeneronthetargetnode.//https://www.quirksmode.org/blog/archives/2010/09/click_event_del.html//Justsetitusingtheonclickpropertysothatwedon'thavetomanageany//bookkeepingforit.Notsureifweneedtoclearitwhenthelisteneris//removed.//TODO:OnlydothisfortherelevantSafarismaybe?node.onclick=noop;}constxlinkNamespace='http://www.w3.org/1999/xlink';constxmlNamespace='http://www.w3.org/XML/1998/namespace';functionsetProp(domElement:Element,tag:string,key:string,value:mixed,props:any,prevValue:mixed,):void{switch(key){case'children':{if(typeofvalue==='string'){if(__DEV__){validateTextNesting(value,tag);}//AvoidsettinginitialtextContentwhenthetextisempty.InIE11setting//textContentona<textarea>willcausetheplaceholdertonot//showwithinthe<textarea>untilithasbeenfocusedandblurredagain.//https://github.com/facebook/react/issues/6731#issuecomment-254874553constcanSetTextContent=(!enableHostSingletons||tag!=='body')&&(tag!=='textarea'||value!=='');if(canSetTextContent){setTextContent(domElement,value);}}elseif(typeofvalue==='number'){if(__DEV__){validateTextNesting(''+value,tag);}constcanSetTextContent=!enableHostSingletons||tag!=='body';if(canSetTextContent){setTextContent(domElement,''+value);}}break;}//Theseareverycommonpropsandthereforeareinthebeginningoftheswitch.//TODO:aria-labelisaverycommonpropbutallowsbooleanssoisnotliketheothers//butshouldideallygointhislisttoo.case'className':setValueForKnownAttribute(domElement,'class',value);break;case'tabIndex'://ThishastobecasesensitiveinSVG.setValueForKnownAttribute(domElement,'tabindex',value);break;case'dir':case'role':case'viewBox':case'width':case'height':{setValueForKnownAttribute(domElement,key,value);break;}case'style':{setValueForStyles(domElement,value,prevValue);break;}//TheseattributesacceptURLs.Thesemustnotallowjavascript:URLS.case'src':case'href':{if(enableFilterEmptyStringAttributesDOM){if(value===''){if(__DEV__){if(key==='src'){console.error('Anemptystring("")waspassedtothe%sattribute.'+'Thismaycausethebrowsertodownloadthewholepageagainoverthenetwork.'+'Tofixthis,eitherdonotrendertheelementatall'+'orpassnullto%sinsteadofanemptystring.',key,key,);}else{console.error('Anemptystring("")waspassedtothe%sattribute.'+'Tofixthis,eitherdonotrendertheelementatall'+'orpassnullto%sinsteadofanemptystring.',key,key,);}}domElement.removeAttribute(key);break;}}if(value==null||typeofvalue==='function'||typeofvalue==='symbol'||typeofvalue==='boolean'){domElement.removeAttribute(key);break;}//`setAttribute`withobjectsbecomesonly`[object]`inIE8/9,//(''+value)makesitoutputthecorrecttoString()-value.if(__DEV__){checkAttributeStringCoercion(value,key);}constsanitizedValue=(sanitizeURL(enableTrustedTypesIntegration?value:''+(value:any),):any);domElement.setAttribute(key,sanitizedValue);break;}case'action':case'formAction':{//TODO:Considermovingthesespecialcasestotheform,inputandbuttontags.if(__DEV__){validateFormActionInDevelopment(tag,key,value,props);}if(enableFormActions){if(typeofvalue==='function'){//SetajavascriptURLthatdoesn'tdoanything.Wedon'texpectthistobeinvoked//becausewe'llpreventDefault,butitcanhappenifaformismanuallysubmittedor//ifsomeonecallsstopPropagationbeforeReactgetstheevent.//IfCSPisusedtoblockjavascript:URLsthat'sfinetoo.Itjustwon'tshowthis//errormessagebuttheURLwillbelogged.domElement.setAttribute(key,//eslint-disable-next-lineno-script-url"javascript:thrownewError('"+'AReactformwasunexpectedlysubmitted.Ifyoucalledform.submit()manually,'+"considerusingform.requestSubmit()instead.Ifyou'retryingtouse"+'event.stopPropagation()inasubmiteventhandler,consideralsocalling'+'event.preventDefault().'+"')",);break;}elseif(typeofprevValue==='function'){//Whenwe'reswitchingoffaServerActionthatwasoriginallyhydrated.//TheservercontrolthesefieldsduringSSRthatarenowtrailing.//Theregulardiffingdoesn'tapplysincewecompareagainstthepreviousprops.//Instead,weneedtoforcethemtobesettowhatevertheyshouldbenow.//Thiswouldbealotcleanerifwedidthiswholeforkintheper-tagapproach.if(key==='formAction'){if(tag!=='input'){//Settingthenamehereisn'tcompletelysafeforinputsifthisisswitching//tobecomearadiobutton.Inthatcaseweletthetagbasedoverridetake//control.setProp(domElement,tag,'name',props.name,props,null);}setProp(domElement,tag,'formEncType',props.formEncType,props,null,);setProp(domElement,tag,'formMethod',props.formMethod,props,null,);setProp(domElement,tag,'formTarget',props.formTarget,props,null,);}else{setProp(domElement,tag,'encType',props.encType,props,null);setProp(domElement,tag,'method',props.method,props,null);setProp(domElement,tag,'target',props.target,props,null);}}}if(value==null||(!enableFormActions&&typeofvalue==='function')||typeofvalue==='symbol'||typeofvalue==='boolean'){domElement.removeAttribute(key);break;}//`setAttribute`withobjectsbecomesonly`[object]`inIE8/9,//(''+value)makesitoutputthecorrecttoString()-value.if(__DEV__){checkAttributeStringCoercion(value,key);}constsanitizedValue=(sanitizeURL(enableTrustedTypesIntegration?value:''+(value:any),):any);domElement.setAttribute(key,sanitizedValue);break;}case'onClick':{//TODO:ThiscastmaynotbesoundforSVG,MathMLorcustomelements.if(value!=null){if(__DEV__&&typeofvalue!=='function'){warnForInvalidEventListener(key,value);}trapClickOnNonInteractiveElement(((domElement:any):HTMLElement));}break;}case'onScroll':{if(value!=null){if(__DEV__&&typeofvalue!=='function'){warnForInvalidEventListener(key,value);}listenToNonDelegatedEvent('scroll',domElement);}break;}case'dangerouslySetInnerHTML':{if(value!=null){if(typeofvalue!=='object'||!('__html'invalue)){thrownewError('`props.dangerouslySetInnerHTML`mustbeintheform`{__html:...}`.'+'Pleasevisithttps://reactjs.org/link/dangerously-set-inner-html'+'formoreinformation.',);}constnextHtml:any=value.__html;if(nextHtml!=null){if(props.children!=null){thrownewError('Canonlysetoneof`children`or`props.dangerouslySetInnerHTML`.',);}if(disableIEWorkarounds){domElement.innerHTML=nextHtml;}else{setInnerHTML(domElement,nextHtml);}}}break;}//Note:`option.selected`isnotupdatedif`select.multiple`is//disabledwith`removeAttribute`.Wehavespeciallogicforhandlingthis.case'multiple':{(domElement:any).multiple=value&&typeofvalue!=='function'&&typeofvalue!=='symbol';break;}case'muted':{(domElement:any).muted=value&&typeofvalue!=='function'&&typeofvalue!=='symbol';break;}case'suppressContentEditableWarning':case'suppressHydrationWarning':case'defaultValue'://Reservedcase'defaultChecked':case'innerHTML':{//Noopbreak;}case'autoFocus':{//Wepolyfillitseparatelyontheclientduringcommit.//Wecouldhaveexcludeditinthepropertylistinsteadof//addingaspecialcasehere,butthenitwouldn'tbeemitted//onserverrendering(butwe*do*wanttoemititinSSR).break;}case'xlinkHref':{if(value==null||typeofvalue==='function'||typeofvalue==='boolean'||typeofvalue==='symbol'){domElement.removeAttribute('xlink:href');break;}//`setAttribute`withobjectsbecomesonly`[object]`inIE8/9,//(''+value)makesitoutputthecorrecttoString()-value.if(__DEV__){checkAttributeStringCoercion(value,key);}constsanitizedValue=(sanitizeURL(enableTrustedTypesIntegration?value:''+(value:any),):any);domElement.setAttributeNS(xlinkNamespace,'xlink:href',sanitizedValue);break;}case'contentEditable':case'spellCheck':case'draggable':case'value':case'autoReverse':case'externalResourcesRequired':case'focusable':case'preserveAlpha':{//BooleanishString//Theseare"enumerated"attributesthataccept"true"and"false".//InReact,weletuserspass`true`and`false`eventhoughtechnically//thesearen'tbooleanattributes(theyarecoercedtostrings).//TheSVGattributesarecase-sensitive.SincetheHTMLattributesare//insensitivetheyalsoworkeventhoughwecanonicallyuselowercase.if(value!=null&&typeofvalue!=='function'&&typeofvalue!=='symbol'){if(__DEV__){checkAttributeStringCoercion(value,key);}domElement.setAttribute(key,enableTrustedTypesIntegration?(value:any):''+(value:any),);}else{domElement.removeAttribute(key);}break;}//Booleancase'allowFullScreen':case'async':case'autoPlay':case'controls':case'default':case'defer':case'disabled':case'disablePictureInPicture':case'disableRemotePlayback':case'formNoValidate':case'hidden':case'loop':case'noModule':case'noValidate':case'open':case'playsInline':case'readOnly':case'required':case'reversed':case'scoped':case'seamless':case'itemScope':{if(value&&typeofvalue!=='function'&&typeofvalue!=='symbol'){domElement.setAttribute(key,'');}else{domElement.removeAttribute(key);}break;}//OverloadedBooleancase'capture':case'download':{//Anattributethatcanbeusedasaflagaswellaswithavalue.//Whentrue,itshouldbepresent(seteithertoanemptystringoritsname).//Whenfalse,itshouldbeomitted.//Foranyothervalue,shouldbepresentwiththatvalue.if(value===true){domElement.setAttribute(key,'');}elseif(value!==false&&value!=null&&typeofvalue!=='function'&&typeofvalue!=='symbol'){if(__DEV__){checkAttributeStringCoercion(value,key);}domElement.setAttribute(key,(value:any));}else{domElement.removeAttribute(key);}break;}case'cols':case'rows':case'size':case'span':{//TheseareHTMLattributesthatmustbepositivenumbers.if(value!=null&&typeofvalue!=='function'&&typeofvalue!=='symbol'&&!isNaN(value)&&(value:any)>=1){if(__DEV__){checkAttributeStringCoercion(value,key);}domElement.setAttribute(key,(value:any));}else{domElement.removeAttribute(key);}break;}case'rowSpan':case'start':{//TheseareHTMLattributesthatmustbenumbers.if(value!=null&&typeofvalue!=='function'&&typeofvalue!=='symbol'&&!isNaN(value)){if(__DEV__){checkAttributeStringCoercion(value,key);}domElement.setAttribute(key,(value:any));}else{domElement.removeAttribute(key);}break;}case'xlinkActuate':setValueForNamespacedAttribute(domElement,xlinkNamespace,'xlink:actuate',value,);break;case'xlinkArcrole':setValueForNamespacedAttribute(domElement,xlinkNamespace,'xlink:arcrole',value,);break;case'xlinkRole':setValueForNamespacedAttribute(domElement,xlinkNamespace,'xlink:role',value,);break;case'xlinkShow':setValueForNamespacedAttribute(domElement,xlinkNamespace,'xlink:show',value,);break;case'xlinkTitle':setValueForNamespacedAttribute(domElement,xlinkNamespace,'xlink:title',value,);break;case'xlinkType':setValueForNamespacedAttribute(domElement,xlinkNamespace,'xlink:type',value,);break;case'xmlBase':setValueForNamespacedAttribute(domElement,xmlNamespace,'xml:base',value,);break;case'xmlLang':setValueForNamespacedAttribute(domElement,xmlNamespace,'xml:lang',value,);break;case'xmlSpace':setValueForNamespacedAttribute(domElement,xmlNamespace,'xml:space',value,);break;//Propertiesthatshouldnotbeallowedoncustomelements.case'is':{if(__DEV__){if(prevValue!=null){console.error('Cannotupdatethe"is"propafterithasbeeninitialized.',);}}//TODO:Weshouldn'tactuallysetthisattribute,becausewe'vealready//passedittocreateElement.Wedon'talsoneedtheattribute.//However,ourtestscurrentlyqueryforitsoit'splausiblesomeone//elsedoestoosoit'sbreak.setValueForAttribute(domElement,'is',value);break;}case'innerText':case'textContent':if(enableCustomElementPropertySupport){break;}//Fallthroughdefault:{if(key.length>2&&(key[0]==='o'||key[0]==='O')&&(key[1]==='n'||key[1]==='N')){if(__DEV__&&registrationNameDependencies.hasOwnProperty(key)&&value!=null&&typeofvalue!=='function'){warnForInvalidEventListener(key,value);}}else{constattributeName=getAttributeAlias(key);setValueForAttribute(domElement,attributeName,value);}}}}functionsetPropOnCustomElement(domElement:Element,tag:string,key:string,value:mixed,props:any,prevValue:mixed,):void{switch(key){case'style':{setValueForStyles(domElement,value,prevValue);break;}case'dangerouslySetInnerHTML':{if(value!=null){if(typeofvalue!=='object'||!('__html'invalue)){thrownewError('`props.dangerouslySetInnerHTML`mustbeintheform`{__html:...}`.'+'Pleasevisithttps://reactjs.org/link/dangerously-set-inner-html'+'formoreinformation.',);}constnextHtml:any=value.__html;if(nextHtml!=null){if(props.children!=null){thrownewError('Canonlysetoneof`children`or`props.dangerouslySetInnerHTML`.',);}if(disableIEWorkarounds){domElement.innerHTML=nextHtml;}else{setInnerHTML(domElement,nextHtml);}}}break;}case'children':{if(typeofvalue==='string'){setTextContent(domElement,value);}elseif(typeofvalue==='number'){setTextContent(domElement,''+value);}break;}case'onScroll':{if(value!=null){if(__DEV__&&typeofvalue!=='function'){warnForInvalidEventListener(key,value);}listenToNonDelegatedEvent('scroll',domElement);}break;}case'onClick':{//TODO:ThiscastmaynotbesoundforSVG,MathMLorcustomelements.if(value!=null){if(__DEV__&&typeofvalue!=='function'){warnForInvalidEventListener(key,value);}trapClickOnNonInteractiveElement(((domElement:any):HTMLElement));}break;}case'suppressContentEditableWarning':case'suppressHydrationWarning':case'innerHTML':{//Noopbreak;}case'innerText'://Propertiescase'textContent':if(enableCustomElementPropertySupport){break;}//Fallthroughdefault:{if(registrationNameDependencies.hasOwnProperty(key)){if(__DEV__&&value!=null&&typeofvalue!=='function'){warnForInvalidEventListener(key,value);}}else{if(enableCustomElementPropertySupport){setValueForPropertyOnCustomComponent(domElement,key,value);}else{if(typeofvalue==='boolean'){//Specialcasebeforethenewflagisonvalue=''+(value:any);}setValueForAttribute(domElement,key,value);}}}}}exportfunctionsetInitialProperties(domElement:Element,tag:string,props:Object,):void{if(__DEV__){validatePropertiesInDevelopment(tag,props);}//TODO:MakesurethatwecheckisMountedbeforefiringanyoftheseevents.switch(tag){case'div':case'span':case'svg':case'path':case'a':case'g':case'p':case'li':{//Fasttrackthemostcommontagtypesbreak;}case'input':{if(__DEV__){checkControlledValueProps('input',props);}//Welistentothiseventincasetoensureemulatedbubble//listenersstillfirefortheinvalidevent.listenToNonDelegatedEvent('invalid',domElement);letname=null;lettype=null;letvalue=null;letdefaultValue=null;letchecked=null;letdefaultChecked=null;for(constpropKeyinprops){if(!props.hasOwnProperty(propKey)){continue;}constpropValue=props[propKey];if(propValue==null){continue;}switch(propKey){case'name':{name=propValue;break;}case'type':{type=propValue;break;}case'checked':{checked=propValue;break;}case'defaultChecked':{defaultChecked=propValue;break;}case'value':{value=propValue;break;}case'defaultValue':{defaultValue=propValue;break;}case'children':case'dangerouslySetInnerHTML':{if(propValue!=null){thrownewError(`${tag}isavoidelementtagandmustneitherhave\`children\`nor`+'use`dangerouslySetInnerHTML`.',);}break;}default:{setProp(domElement,tag,propKey,propValue,props,null);}}}//TODO:Makesurewecheckifthisisstillunmountedordoanyclean//upnecessarysinceweneverstoptrackinganymore.validateInputProps(domElement,props);initInput(domElement,value,defaultValue,checked,defaultChecked,type,name,false,);track((domElement:any));return;}case'select':{if(__DEV__){checkControlledValueProps('select',props);}//Welistentothiseventincasetoensureemulatedbubble//listenersstillfirefortheinvalidevent.listenToNonDelegatedEvent('invalid',domElement);letvalue=null;letdefaultValue=null;letmultiple=null;for(constpropKeyinprops){if(!props.hasOwnProperty(propKey)){continue;}constpropValue=props[propKey];if(propValue==null){continue;}switch(propKey){case'value':{value=propValue;//ThisishandledbyinitSelectbelow.break;}case'defaultValue':{defaultValue=propValue;//ThisishandledbyinitSelectbelow.break;}case'multiple':{multiple=propValue;//TODO:Wedon'tactuallyhavetofallthroughherebecausewesetit//ininitSelectanyway.WecanremovethespecialcaseinsetProp.}//Fallthroughdefault:{setProp(domElement,tag,propKey,propValue,props,null);}}}validateSelectProps(domElement,props);initSelect(domElement,value,defaultValue,multiple);return;}case'textarea':{if(__DEV__){checkControlledValueProps('textarea',props);}//Welistentothiseventincasetoensureemulatedbubble//listenersstillfirefortheinvalidevent.listenToNonDelegatedEvent('invalid',domElement);letvalue=null;letdefaultValue=null;letchildren=null;for(constpropKeyinprops){if(!props.hasOwnProperty(propKey)){continue;}constpropValue=props[propKey];if(propValue==null){continue;}switch(propKey){case'value':{value=propValue;//ThisishandledbyinitTextareabelow.break;}case'defaultValue':{defaultValue=propValue;break;}case'children':{children=propValue;//HandledbyinitTextareaabove.break;}case'dangerouslySetInnerHTML':{if(propValue!=null){//TODO:Dowereallyneedaspecialerrormessageforthis.It'salsoprettyblunt.thrownewError('`dangerouslySetInnerHTML`doesnotmakesenseon<textarea>.',);}break;}default:{setProp(domElement,tag,propKey,propValue,props,null);}}}//TODO:Makesurewecheckifthisisstillunmountedordoanyclean//upnecessarysinceweneverstoptrackinganymore.validateTextareaProps(domElement,props);initTextarea(domElement,value,defaultValue,children);track((domElement:any));return;}case'option':{validateOptionProps(domElement,props);for(constpropKeyinprops){if(!props.hasOwnProperty(propKey)){continue;}constpropValue=props[propKey];if(propValue==null){continue;}switch(propKey){case'selected':{//TODO:Removesupportforselectedonoption.(domElement:any).selected=propValue&&typeofpropValue!=='function'&&typeofpropValue!=='symbol';break;}default:{setProp(domElement,tag,propKey,propValue,props,null);}}}return;}case'dialog':{listenToNonDelegatedEvent('cancel',domElement);listenToNonDelegatedEvent('close',domElement);break;}case'iframe':case'object':{//Welistentothiseventincasetoensureemulatedbubble//listenersstillfirefortheloadevent.listenToNonDelegatedEvent('load',domElement);break;}case'video':case'audio':{//Welistentotheseeventsincasetoensureemulatedbubble//listenersstillfireforallthemediaevents.for(leti=0;i<mediaEventTypes.length;i++){listenToNonDelegatedEvent(mediaEventTypes[i],domElement);}break;}case'image':{//Welistentotheseeventsincasetoensureemulatedbubble//listenersstillfireforerrorandloadevents.listenToNonDelegatedEvent('error',domElement);listenToNonDelegatedEvent('load',domElement);break;}case'details':{//Welistentothiseventincasetoensureemulatedbubble//listenersstillfireforthetoggleevent.listenToNonDelegatedEvent('toggle',domElement);break;}case'embed':case'source':case'img':case'link':{//Thesearevoidelementsthatalsoneeddelegatedevents.listenToNonDelegatedEvent('error',domElement);listenToNonDelegatedEvent('load',domElement);//Wefallthroughtothereturnofthevoidelements}case'area':case'base':case'br':case'col':case'hr':case'keygen':case'meta':case'param':case'track':case'wbr':case'menuitem':{//Voidelementsfor(constpropKeyinprops){if(!props.hasOwnProperty(propKey)){continue;}constpropValue=props[propKey];if(propValue==null){continue;}switch(propKey){case'children':case'dangerouslySetInnerHTML':{//TODO:CanwemakethisaDEVwarningtoavoidthisdenylist?thrownewError(`${tag}isavoidelementtagandmustneitherhave\`children\`nor`+'use`dangerouslySetInnerHTML`.',);}//defaultCheckedanddefaultValueareignoredbysetPropdefault:{setProp(domElement,tag,propKey,propValue,props,null);}}}return;}default:{if(isCustomElement(tag,props)){for(constpropKeyinprops){if(!props.hasOwnProperty(propKey)){continue;}constpropValue=props[propKey];if(propValue==null){continue;}setPropOnCustomElement(domElement,tag,propKey,propValue,props,null,);}return;}}}for(constpropKeyinprops){if(!props.hasOwnProperty(propKey)){continue;}constpropValue=props[propKey];if(propValue==null){continue;}setProp(domElement,tag,propKey,propValue,props,null);}}//Calculatethediffbetweenthetwoobjects.exportfunctiondiffProperties(domElement:Element,tag:string,lastProps:Object,nextProps:Object,):null|Array<mixed>{if(__DEV__){validatePropertiesInDevelopment(tag,nextProps);}letupdatePayload:null|Array<any>=null;letpropKey;letstyleName;letstyleUpdates=null;for(propKeyinlastProps){if(nextProps.hasOwnProperty(propKey)||!lastProps.hasOwnProperty(propKey)||lastProps[propKey]==null){continue;}switch(propKey){case'style':{constlastStyle=lastProps[propKey];for(styleNameinlastStyle){if(lastStyle.hasOwnProperty(styleName)){if(!styleUpdates){styleUpdates=({}:{[string]:$FlowFixMe});}styleUpdates[styleName]='';}}break;}default:{//Forallotherdeletedpropertiesweaddittothequeue.Weuse//theallowedpropertylistinthecommitphaseinstead.(updatePayload=updatePayload||[]).push(propKey,null);}}}for(propKeyinnextProps){constnextProp=nextProps[propKey];constlastProp=lastProps!=null?lastProps[propKey]:undefined;if(nextProps.hasOwnProperty(propKey)&&nextProp!==lastProp&&(nextProp!=null||lastProp!=null)){switch(propKey){case'style':{if(lastProp){//Unsetstyleson`lastProp`butnoton`nextProp`.for(styleNameinlastProp){if(lastProp.hasOwnProperty(styleName)&&(!nextProp||!nextProp.hasOwnProperty(styleName))){if(!styleUpdates){styleUpdates=({}:{[string]:string});}styleUpdates[styleName]='';}}//Updatestylesthatchangedsince`lastProp`.for(styleNameinnextProp){if(nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]){if(!styleUpdates){styleUpdates=({}:{[string]:$FlowFixMe});}styleUpdates[styleName]=nextProp[styleName];}}}else{//Relieson`updateStylesByID`notmutating`styleUpdates`.if(!styleUpdates){if(!updatePayload){updatePayload=[];}updatePayload.push(propKey,styleUpdates);}styleUpdates=nextProp;}break;}case'is':if(__DEV__){console.error('Cannotupdatethe"is"propafterithasbeeninitialized.',);}//Fallthroughdefault:{(updatePayload=updatePayload||[]).push(propKey,nextProp);}}}}if(styleUpdates){if(__DEV__){validateShorthandPropertyCollisionInDev(lastProps.style,nextProps.style);}(updatePayload=updatePayload||[]).push('style',styleUpdates);}returnupdatePayload;}exportfunctionupdateProperties(domElement:Element,tag:string,lastProps:Object,nextProps:Object,):void{if(__DEV__){validatePropertiesInDevelopment(tag,nextProps);}switch(tag){case'div':case'span':case'svg':case'path':case'a':case'g':case'p':case'li':{//Fasttrackthemostcommontagtypesbreak;}case'input':{letname=null;lettype=null;letvalue=null;letdefaultValue=null;letlastDefaultValue=null;letchecked=null;letdefaultChecked=null;for(constpropKeyinlastProps){constlastProp=lastProps[propKey];if(lastProps.hasOwnProperty(propKey)&&lastProp!=null){switch(propKey){case'checked':{break;}case'value':{//ThisishandledbyupdateWrapperbelow.break;}case'defaultValue':{lastDefaultValue=lastProp;}//defaultCheckedanddefaultValueareignoredbysetProp//Fallthroughdefault:{if(!nextProps.hasOwnProperty(propKey))setProp(domElement,tag,propKey,null,nextProps,lastProp);}}}}for(constpropKeyinnextProps){constnextProp=nextProps[propKey];constlastProp=lastProps[propKey];if(nextProps.hasOwnProperty(propKey)&&(nextProp!=null||lastProp!=null)){switch(propKey){case'type':{type=nextProp;break;}case'name':{name=nextProp;break;}case'checked':{checked=nextProp;break;}case'defaultChecked':{defaultChecked=nextProp;break;}case'value':{value=nextProp;break;}case'defaultValue':{defaultValue=nextProp;break;}case'children':case'dangerouslySetInnerHTML':{if(nextProp!=null){thrownewError(`${tag}isavoidelementtagandmustneitherhave\`children\`nor`+'use`dangerouslySetInnerHTML`.',);}break;}default:{if(nextProp!==lastProp)setProp(domElement,tag,propKey,nextProp,nextProps,lastProp,);}}}}if(__DEV__){constwasControlled=lastProps.type==='checkbox'||lastProps.type==='radio'?lastProps.checked!=null:lastProps.value!=null;constisControlled=nextProps.type==='checkbox'||nextProps.type==='radio'?nextProps.checked!=null:nextProps.value!=null;if(!wasControlled&&isControlled&&!didWarnUncontrolledToControlled){console.error('Acomponentischanginganuncontrolledinputtobecontrolled.'+'Thisislikelycausedbythevaluechangingfromundefinedto'+'adefinedvalue,whichshouldnothappen.'+'Decidebetweenusingacontrolledoruncontrolledinput'+'elementforthelifetimeofthecomponent.Moreinfo:https://reactjs.org/link/controlled-components',);didWarnUncontrolledToControlled=true;}if(wasControlled&&!isControlled&&!didWarnControlledToUncontrolled){console.error('Acomponentischangingacontrolledinputtobeuncontrolled.'+'Thisislikelycausedbythevaluechangingfromadefinedto'+'undefined,whichshouldnothappen.'+'Decidebetweenusingacontrolledoruncontrolledinput'+'elementforthelifetimeofthecomponent.Moreinfo:https://reactjs.org/link/controlled-components',);didWarnControlledToUncontrolled=true;}}//Updatethewrapperaroundinputs*after*updatingprops.Thishasto//happenafterupdatingtherestofprops.OtherwiseHTML5inputvalidations//raisewarningsandpreventthenewvaluefrombeingassigned.updateInput(domElement,value,defaultValue,lastDefaultValue,checked,defaultChecked,type,name,);return;}case'select':{letvalue=null;letdefaultValue=null;letmultiple=null;letwasMultiple=null;for(constpropKeyinlastProps){constlastProp=lastProps[propKey];if(lastProps.hasOwnProperty(propKey)&&lastProp!=null){switch(propKey){case'value':{//ThisishandledbyupdateWrapperbelow.break;}//defaultValueareignoredbysetPropcase'multiple':{wasMultiple=lastProp;//TODO:MovespecialcaseinherefromsetProp.}//Fallthroughdefault:{if(!nextProps.hasOwnProperty(propKey))setProp(domElement,tag,propKey,null,nextProps,lastProp);}}}}for(constpropKeyinnextProps){constnextProp=nextProps[propKey];constlastProp=lastProps[propKey];if(nextProps.hasOwnProperty(propKey)&&(nextProp!=null||lastProp!=null)){switch(propKey){case'value':{value=nextProp;//ThisishandledbyupdateSelectbelow.break;}case'defaultValue':{defaultValue=nextProp;break;}case'multiple':{multiple=nextProp;//TODO:JustmovethespecialcaseinherefromsetProp.}//Fallthroughdefault:{if(nextProp!==lastProp)setProp(domElement,tag,propKey,nextProp,nextProps,lastProp,);}}}}//<select>valueupdateneedstooccurafter<option>children//reconciliationupdateSelect(domElement,value,defaultValue,multiple,wasMultiple);return;}case'textarea':{letvalue=null;letdefaultValue=null;for(constpropKeyinlastProps){constlastProp=lastProps[propKey];if(lastProps.hasOwnProperty(propKey)&&lastProp!=null&&!nextProps.hasOwnProperty(propKey)){switch(propKey){case'value':{//ThisishandledbyupdateTextareabelow.break;}case'children':{//TODO:Thisdoesn'tactuallydoanythingifitupdates.break;}//defaultValueisignoredbysetPropdefault:{setProp(domElement,tag,propKey,null,nextProps,lastProp);}}}}for(constpropKeyinnextProps){constnextProp=nextProps[propKey];constlastProp=lastProps[propKey];if(nextProps.hasOwnProperty(propKey)&&(nextProp!=null||lastProp!=null)){switch(propKey){case'value':{value=nextProp;//ThisishandledbyupdateTextareabelow.break;}case'defaultValue':{defaultValue=nextProp;break;}case'children':{//TODO:Thisdoesn'tactuallydoanythingifitupdates.break;}case'dangerouslySetInnerHTML':{if(nextProp!=null){//TODO:Dowereallyneedaspecialerrormessageforthis.It'salsoprettyblunt.thrownewError('`dangerouslySetInnerHTML`doesnotmakesenseon<textarea>.',);}break;}default:{if(nextProp!==lastProp)setProp(domElement,tag,propKey,nextProp,nextProps,lastProp,);}}}}updateTextarea(domElement,value,defaultValue);return;}case'option':{for(constpropKeyinlastProps){constlastProp=lastProps[propKey];if(lastProps.hasOwnProperty(propKey)&&lastProp!=null&&!nextProps.hasOwnProperty(propKey)){switch(propKey){case'selected':{//TODO:Removesupportforselectedonoption.(domElement:any).selected=false;break;}default:{setProp(domElement,tag,propKey,null,nextProps,lastProp);}}}}for(constpropKeyinnextProps){constnextProp=nextProps[propKey];constlastProp=lastProps[propKey];if(nextProps.hasOwnProperty(propKey)&&nextProp!==lastProp&&(nextProp!=null||lastProp!=null)){switch(propKey){case'selected':{//TODO:Removesupportforselectedonoption.(domElement:any).selected=nextProp&&typeofnextProp!=='function'&&typeofnextProp!=='symbol';break;}default:{setProp(domElement,tag,propKey,nextProp,nextProps,lastProp);}}}}return;}case'img':case'link':case'area':case'base':case'br':case'col':case'embed':case'hr':case'keygen':case'meta':case'param':case'source':case'track':case'wbr':case'menuitem':{//Voidelementsfor(constpropKeyinlastProps){constlastProp=lastProps[propKey];if(lastProps.hasOwnProperty(propKey)&&lastProp!=null&&!nextProps.hasOwnProperty(propKey)){setProp(domElement,tag,propKey,null,nextProps,lastProp);}}for(constpropKeyinnextProps){constnextProp=nextProps[propKey];constlastProp=lastProps[propKey];if(nextProps.hasOwnProperty(propKey)&&nextProp!==lastProp&&(nextProp!=null||lastProp!=null)){switch(propKey){case'children':case'dangerouslySetInnerHTML':{if(nextProp!=null){//TODO:CanwemakethisaDEVwarningtoavoidthisdenylist?thrownewError(`${tag}isavoidelementtagandmustneitherhave\`children\`nor`+'use`dangerouslySetInnerHTML`.',);}break;}//defaultCheckedanddefaultValueareignoredbysetPropdefault:{setProp(domElement,tag,propKey,nextProp,nextProps,lastProp);}}}}return;}default:{if(isCustomElement(tag,nextProps)){for(constpropKeyinlastProps){constlastProp=lastProps[propKey];if(lastProps.hasOwnProperty(propKey)&&lastProp!=null&&!nextProps.hasOwnProperty(propKey)){setPropOnCustomElement(domElement,tag,propKey,null,nextProps,lastProp,);}}for(constpropKeyinnextProps){constnextProp=nextProps[propKey];constlastProp=lastProps[propKey];if(nextProps.hasOwnProperty(propKey)&&nextProp!==lastProp&&(nextProp!=null||lastProp!=null)){setPropOnCustomElement(domElement,tag,propKey,nextProp,nextProps,lastProp,);}}return;}}}for(constpropKeyinlastProps){constlastProp=lastProps[propKey];if(lastProps.hasOwnProperty(propKey)&&lastProp!=null&&!nextProps.hasOwnProperty(propKey)){setProp(domElement,tag,propKey,null,nextProps,lastProp);}}for(constpropKeyinnextProps){constnextProp=nextProps[propKey];constlastProp=lastProps[propKey];if(nextProps.hasOwnProperty(propKey)&&nextProp!==lastProp&&(nextProp!=null||lastProp!=null)){setProp(domElement,tag,propKey,nextProp,nextProps,lastProp);}}}//Applythediff.exportfunctionupdatePropertiesWithDiff(domElement:Element,updatePayload:Array<any>,tag:string,lastProps:Object,nextProps:Object,):void{switch(tag){case'div':case'span':case'svg':case'path':case'a':case'g':case'p':case'li':{//Fasttrackthemostcommontagtypesbreak;}case'input':{constname=nextProps.name;consttype=nextProps.type;constvalue=nextProps.value;constdefaultValue=nextProps.defaultValue;constlastDefaultValue=lastProps.defaultValue;constchecked=nextProps.checked;constdefaultChecked=nextProps.defaultChecked;for(leti=0;i<updatePayload.length;i+=2){constpropKey=updatePayload[i];constpropValue=updatePayload[i+1];switch(propKey){case'type':{break;}case'name':{break;}case'checked':{break;}case'defaultChecked':{break;}case'value':{break;}case'defaultValue':{break;}case'children':case'dangerouslySetInnerHTML':{if(propValue!=null){thrownewError(`${tag}isavoidelementtagandmustneitherhave\`children\`nor`+'use`dangerouslySetInnerHTML`.',);}break;}default:{setProp(domElement,tag,propKey,propValue,nextProps,lastProps[propKey],);}}}if(__DEV__){constwasControlled=lastProps.type==='checkbox'||lastProps.type==='radio'?lastProps.checked!=null:lastProps.value!=null;constisControlled=nextProps.type==='checkbox'||nextProps.type==='radio'?nextProps.checked!=null:nextProps.value!=null;if(!wasControlled&&isControlled&&!didWarnUncontrolledToControlled){console.error('Acomponentischanginganuncontrolledinputtobecontrolled.'+'Thisislikelycausedbythevaluechangingfromundefinedto'+'adefinedvalue,whichshouldnothappen.'+'Decidebetweenusingacontrolledoruncontrolledinput'+'elementforthelifetimeofthecomponent.Moreinfo:https://reactjs.org/link/controlled-components',);didWarnUncontrolledToControlled=true;}if(wasControlled&&!isControlled&&!didWarnControlledToUncontrolled){console.error('Acomponentischangingacontrolledinputtobeuncontrolled.'+'Thisislikelycausedbythevaluechangingfromadefinedto'+'undefined,whichshouldnothappen.'+'Decidebetweenusingacontrolledoruncontrolledinput'+'elementforthelifetimeofthecomponent.Moreinfo:https://reactjs.org/link/controlled-components',);didWarnControlledToUncontrolled=true;}}//Updatethewrapperaroundinputs*after*updatingprops.Thishasto//happenafterupdatingtherestofprops.OtherwiseHTML5inputvalidations//raisewarningsandpreventthenewvaluefrombeingassigned.updateInput(domElement,value,defaultValue,lastDefaultValue,checked,defaultChecked,type,name,);return;}case'select':{constvalue=nextProps.value;constdefaultValue=nextProps.defaultValue;constmultiple=nextProps.multiple;constwasMultiple=lastProps.multiple;for(leti=0;i<updatePayload.length;i+=2){constpropKey=updatePayload[i];constpropValue=updatePayload[i+1];switch(propKey){case'value':{//ThisishandledbyupdateWrapperbelow.break;}//defaultValueareignoredbysetPropdefault:{setProp(domElement,tag,propKey,propValue,nextProps,lastProps[propKey],);}}}//<select>valueupdateneedstooccurafter<option>children//reconciliationupdateSelect(domElement,value,defaultValue,multiple,wasMultiple);return;}case'textarea':{constvalue=nextProps.value;constdefaultValue=nextProps.defaultValue;for(leti=0;i<updatePayload.length;i+=2){constpropKey=updatePayload[i];constpropValue=updatePayload[i+1];switch(propKey){case'value':{//ThisishandledbyupdateWrapperbelow.break;}case'children':{//TODO:Thisdoesn'tactuallydoanythingifitupdates.break;}case'dangerouslySetInnerHTML':{if(propValue!=null){//TODO:Dowereallyneedaspecialerrormessageforthis.It'salsoprettyblunt.thrownewError('`dangerouslySetInnerHTML`doesnotmakesenseon<textarea>.',);}break;}//defaultValueisignoredbysetPropdefault:{setProp(domElement,tag,propKey,propValue,nextProps,lastProps[propKey],);}}}updateTextarea(domElement,value,defaultValue);return;}case'option':{for(leti=0;i<updatePayload.length;i+=2){constpropKey=updatePayload[i];constpropValue=updatePayload[i+1];switch(propKey){case'selected':{//TODO:Removesupportforselectedonoption.(domElement:any).selected=propValue&&typeofpropValue!=='function'&&typeofpropValue!=='symbol';break;}default:{setProp(domElement,tag,propKey,propValue,nextProps,lastProps[propKey],);}}}return;}case'img':case'link':case'area':case'base':case'br':case'col':case'embed':case'hr':case'keygen':case'meta':case'param':case'source':case'track':case'wbr':case'menuitem':{//Voidelementsfor(leti=0;i<updatePayload.length;i+=2){constpropKey=updatePayload[i];constpropValue=updatePayload[i+1];switch(propKey){case'children':case'dangerouslySetInnerHTML':{if(propValue!=null){//TODO:CanwemakethisaDEVwarningtoavoidthisdenylist?thrownewError(`${tag}isavoidelementtagandmustneitherhave\`children\`nor`+'use`dangerouslySetInnerHTML`.',);}break;}//defaultCheckedanddefaultValueareignoredbysetPropdefault:{setProp(domElement,tag,propKey,propValue,nextProps,lastProps[propKey],);}}}return;}default:{if(isCustomElement(tag,nextProps)){for(leti=0;i<updatePayload.length;i+=2){constpropKey=updatePayload[i];constpropValue=updatePayload[i+1];setPropOnCustomElement(domElement,tag,propKey,propValue,nextProps,lastProps[propKey],);}return;}}}//Applythediff.for(leti=0;i<updatePayload.length;i+=2){constpropKey=updatePayload[i];constpropValue=updatePayload[i+1];setProp(domElement,tag,propKey,propValue,nextProps,lastProps[propKey]);}}functiongetPossibleStandardName(propName:string):string|null{if(__DEV__){constlowerCasedName=propName.toLowerCase();if(!possibleStandardNames.hasOwnProperty(lowerCasedName)){returnnull;}returnpossibleStandardNames[lowerCasedName]||null;}returnnull;}functiondiffHydratedStyles(domElement:Element,value:mixed){if(value!=null&&typeofvalue!=='object'){thrownewError('The`style`propexpectsamappingfromstylepropertiestovalues,'+"notastring.Forexample,style={{marginRight:spacing+'em'}}when"+'usingJSX.',);}if(canDiffStyleForHydrationWarning){constexpectedStyle=createDangerousStringForStyles(value);constserverValue=domElement.getAttribute('style');warnForPropDifference('style',serverValue,expectedStyle);}}functionhydrateAttribute(domElement:Element,propKey:string,attributeName:string,value:any,extraAttributes:Set<string>,):void{extraAttributes.delete(attributeName);constserverValue=domElement.getAttribute(attributeName);if(serverValue===null){switch(typeofvalue){case'undefined':case'function':case'symbol':case'boolean':return;}}else{if(value==null){//Wehadanattributebutshouldn'thavehadone,soreadit//fortheerrormessage.}else{switch(typeofvalue){case'function':case'symbol':case'boolean':break;default:{if(__DEV__){checkAttributeStringCoercion(value,propKey);}if(serverValue===''+value){return;}}}}}warnForPropDifference(propKey,serverValue,value);}functionhydrateBooleanAttribute(domElement:Element,propKey:string,attributeName:string,value:any,extraAttributes:Set<string>,):void{extraAttributes.delete(attributeName);constserverValue=domElement.getAttribute(attributeName);if(serverValue===null){switch(typeofvalue){case'function':case'symbol':return;}if(!value){return;}}else{switch(typeofvalue){case'function':case'symbol':break;default:{if(value){//Ifthiswasaboolean,itdoesn'tmatterwhatthevalueis//thefactthatwehaveitisthesameastheexpected.//Aslongasit'spositive.return;}}}}warnForPropDifference(propKey,serverValue,value);}functionhydrateOverloadedBooleanAttribute(domElement:Element,propKey:string,attributeName:string,value:any,extraAttributes:Set<string>,):void{extraAttributes.delete(attributeName);constserverValue=domElement.getAttribute(attributeName);if(serverValue===null){switch(typeofvalue){case'undefined':case'function':case'symbol':return;default:if(value===false){return;}}}else{if(value==null){//Wehadanattributebutshouldn'thavehadone,soreadit//fortheerrormessage.}else{switch(typeofvalue){case'function':case'symbol':break;case'boolean':if(value===true&&serverValue===''){return;}break;default:{if(__DEV__){checkAttributeStringCoercion(value,propKey);}if(serverValue===''+value){return;}}}}}warnForPropDifference(propKey,serverValue,value);}functionhydrateBooleanishAttribute(domElement:Element,propKey:string,attributeName:string,value:any,extraAttributes:Set<string>,):void{extraAttributes.delete(attributeName);constserverValue=domElement.getAttribute(attributeName);if(serverValue===null){switch(typeofvalue){case'undefined':case'function':case'symbol':return;}}else{if(value==null){//Wehadanattributebutshouldn'thavehadone,soreadit//fortheerrormessage.}else{switch(typeofvalue){case'function':case'symbol':break;default:{if(__DEV__){checkAttributeStringCoercion(value,attributeName);}if(serverValue===''+(value:any)){return;}}}}}warnForPropDifference(propKey,serverValue,value);}functionhydrateNumericAttribute(domElement:Element,propKey:string,attributeName:string,value:any,extraAttributes:Set<string>,):void{extraAttributes.delete(attributeName);constserverValue=domElement.getAttribute(attributeName);if(serverValue===null){switch(typeofvalue){case'undefined':case'function':case'symbol':case'boolean':return;default:if(isNaN(value)){return;}}}else{if(value==null){//Wehadanattributebutshouldn'thavehadone,soreadit//fortheerrormessage.}else{switch(typeofvalue){case'function':case'symbol':case'boolean':break;default:{if(isNaN(value)){//Wehadanattributebutshouldn'thavehadone,soreadit//fortheerrormessage.break;}if(__DEV__){checkAttributeStringCoercion(value,propKey);}if(serverValue===''+value){return;}}}}}warnForPropDifference(propKey,serverValue,value);}functionhydratePositiveNumericAttribute(domElement:Element,propKey:string,attributeName:string,value:any,extraAttributes:Set<string>,):void{extraAttributes.delete(attributeName);constserverValue=domElement.getAttribute(attributeName);if(serverValue===null){switch(typeofvalue){case'undefined':case'function':case'symbol':case'boolean':return;default:if(isNaN(value)||value<1){return;}}}else{if(value==null){//Wehadanattributebutshouldn'thavehadone,soreadit//fortheerrormessage.}else{switch(typeofvalue){case'function':case'symbol':case'boolean':break;default:{if(isNaN(value)||value<1){//Wehadanattributebutshouldn'thavehadone,soreadit//fortheerrormessage.break;}if(__DEV__){checkAttributeStringCoercion(value,propKey);}if(serverValue===''+value){return;}}}}}warnForPropDifference(propKey,serverValue,value);}functionhydrateSanitizedAttribute(domElement:Element,propKey:string,attributeName:string,value:any,extraAttributes:Set<string>,):void{extraAttributes.delete(attributeName);constserverValue=domElement.getAttribute(attributeName);if(serverValue===null){switch(typeofvalue){case'undefined':case'function':case'symbol':case'boolean':return;}}else{if(value==null){//Wehadanattributebutshouldn'thavehadone,soreadit//fortheerrormessage.}else{switch(typeofvalue){case'function':case'symbol':case'boolean':break;default:{if(__DEV__){checkAttributeStringCoercion(value,propKey);}constsanitizedValue=sanitizeURL(''+value);if(serverValue===sanitizedValue){return;}}}}}warnForPropDifference(propKey,serverValue,value);}functiondiffHydratedCustomComponent(domElement:Element,tag:string,props:Object,hostContext:HostContext,extraAttributes:Set<string>,){for(constpropKeyinprops){if(!props.hasOwnProperty(propKey)){continue;}constvalue=props[propKey];if(value==null){continue;}if(registrationNameDependencies.hasOwnProperty(propKey)){if(typeofvalue!=='function'){warnForInvalidEventListener(propKey,value);}continue;}if(props.suppressHydrationWarning===true){//Don'tbothercomparing.We'reignoringallthesewarnings.continue;}//Validatethatthepropertiescorrespondtotheirexpectedvalues.switch(propKey){case'children'://Checkedabovealreadycase'suppressContentEditableWarning':case'suppressHydrationWarning':case'defaultValue':case'defaultChecked':case'innerHTML'://Noopcontinue;case'dangerouslySetInnerHTML':constserverHTML=domElement.innerHTML;constnextHtml=value?value.__html:undefined;if(nextHtml!=null){constexpectedHTML=normalizeHTML(domElement,nextHtml);warnForPropDifference(propKey,serverHTML,expectedHTML);}continue;case'style':extraAttributes.delete(propKey);diffHydratedStyles(domElement,value);continue;case'offsetParent':case'offsetTop':case'offsetLeft':case'offsetWidth':case'offsetHeight':case'isContentEditable':case'outerText':case'outerHTML':if(enableCustomElementPropertySupport){extraAttributes.delete(propKey.toLowerCase());if(__DEV__){console.error('Assignmenttoread-onlypropertywillresultinano-op:`%s`',propKey,);}continue;}//Fallthroughcase'className':if(enableCustomElementPropertySupport){//classNameisaspecialcasedpropertyontheservertorenderasanattribute.extraAttributes.delete('class');constserverValue=getValueForAttributeOnCustomComponent(domElement,'class',value,);warnForPropDifference('className',serverValue,value);continue;}//Fallthroughdefault:{//ThisisaDEV-onlypathconsthostContextDev:HostContextDev=(hostContext:any);consthostContextProd=hostContextDev.context;if(hostContextProd===HostContextNamespaceNone&&tag!=='svg'&&tag!=='math'){extraAttributes.delete(propKey.toLowerCase());}else{extraAttributes.delete(propKey);}constserverValue=getValueForAttributeOnCustomComponent(domElement,propKey,value,);warnForPropDifference(propKey,serverValue,value);}}}}//ThisistheexactURLstringweexpectthatFizzrendersifweprovideafunctionaction.//Weusethisforhydrationwarnings.ItneedstobeinsyncwithFizz.Maybemakessense//asasharedmoduleforthatreason.constEXPECTED_FORM_ACTION_URL=//eslint-disable-next-lineno-script-url"javascript:thrownewError('AReactformwasunexpectedlysubmitted.')";functiondiffHydratedGenericElement(domElement:Element,tag:string,props:Object,hostContext:HostContext,extraAttributes:Set<string>,){for(constpropKeyinprops){if(!props.hasOwnProperty(propKey)){continue;}constvalue=props[propKey];if(value==null){continue;}if(registrationNameDependencies.hasOwnProperty(propKey)){if(typeofvalue!=='function'){warnForInvalidEventListener(propKey,value);}continue;}if(props.suppressHydrationWarning===true){//Don'tbothercomparing.We'reignoringallthesewarnings.continue;}//Validatethatthepropertiescorrespondtotheirexpectedvalues.switch(propKey){case'children'://Checkedabovealreadycase'suppressContentEditableWarning':case'suppressHydrationWarning':case'value'://Controlledattributesarenotvalidatedcase'checked'://TODO:Onlyignorethemoncontrolledtags.case'selected':case'defaultValue':case'defaultChecked':case'innerHTML'://Noopcontinue;case'dangerouslySetInnerHTML':constserverHTML=domElement.innerHTML;constnextHtml=value?value.__html:undefined;if(nextHtml!=null){constexpectedHTML=normalizeHTML(domElement,nextHtml);warnForPropDifference(propKey,serverHTML,expectedHTML);}continue;case'className':hydrateAttribute(domElement,propKey,'class',value,extraAttributes);continue;case'tabIndex':hydrateAttribute(domElement,propKey,'tabindex',value,extraAttributes,);continue;case'style':extraAttributes.delete(propKey);diffHydratedStyles(domElement,value);continue;case'multiple':{extraAttributes.delete(propKey);constserverValue=(domElement:any).multiple;warnForPropDifference(propKey,serverValue,value);continue;}case'muted':{extraAttributes.delete(propKey);constserverValue=(domElement:any).muted;warnForPropDifference(propKey,serverValue,value);continue;}case'autoFocus':{extraAttributes.delete('autofocus');constserverValue=(domElement:any).autofocus;warnForPropDifference(propKey,serverValue,value);continue;}case'src':case'href':if(enableFilterEmptyStringAttributesDOM){if(value===''){if(__DEV__){if(propKey==='src'){console.error('Anemptystring("")waspassedtothe%sattribute.'+'Thismaycausethebrowsertodownloadthewholepageagainoverthenetwork.'+'Tofixthis,eitherdonotrendertheelementatall'+'orpassnullto%sinsteadofanemptystring.',propKey,propKey,);}else{console.error('Anemptystring("")waspassedtothe%sattribute.'+'Tofixthis,eitherdonotrendertheelementatall'+'orpassnullto%sinsteadofanemptystring.',propKey,propKey,);}}hydrateSanitizedAttribute(domElement,propKey,propKey,null,extraAttributes,);continue;}}hydrateSanitizedAttribute(domElement,propKey,propKey,value,extraAttributes,);continue;case'action':case'formAction':if(enableFormActions){constserverValue=domElement.getAttribute(propKey);if(typeofvalue==='function'){extraAttributes.delete(propKey.toLowerCase());//Theservercansettheseextrapropertiestoimplementactions.//Soweremovethemfromtheextraattributeswarnings.if(propKey==='formAction'){extraAttributes.delete('name');extraAttributes.delete('formenctype');extraAttributes.delete('formmethod');extraAttributes.delete('formtarget');}else{extraAttributes.delete('enctype');extraAttributes.delete('method');extraAttributes.delete('target');}//Ideallyweshouldbeabletowarniftheservervaluewasnotafunction//howeversincethefunctioncanreturnanyoftheseattributesanywayit//wantsasacustomprogressiveenhancement,there'snothingtocompareto.//Wecancheckifthefunctionhasthe$FORM_ACTIONpropertyontheclient//andifit'snot,warn,butthat'sanunnecessaryconstraintthatthey//havetohavetheextraextensionthatdoesn'tdoanythingontheclient.continue;}elseif(serverValue===EXPECTED_FORM_ACTION_URL){extraAttributes.delete(propKey.toLowerCase());warnForPropDifference(propKey,'function',value);continue;}}hydrateSanitizedAttribute(domElement,propKey,propKey.toLowerCase(),value,extraAttributes,);continue;case'xlinkHref':hydrateSanitizedAttribute(domElement,propKey,'xlink:href',value,extraAttributes,);continue;case'contentEditable':{//Lower-caseBooleanishStringhydrateBooleanishAttribute(domElement,propKey,'contenteditable',value,extraAttributes,);continue;}case'spellCheck':{//Lower-caseBooleanishStringhydrateBooleanishAttribute(domElement,propKey,'spellcheck',value,extraAttributes,);continue;}case'draggable':case'autoReverse':case'externalResourcesRequired':case'focusable':case'preserveAlpha':{//Case-sensitiveBooleanishStringhydrateBooleanishAttribute(domElement,propKey,propKey,value,extraAttributes,);continue;}case'allowFullScreen':case'async':case'autoPlay':case'controls':case'default':case'defer':case'disabled':case'disablePictureInPicture':case'disableRemotePlayback':case'formNoValidate':case'hidden':case'loop':case'noModule':case'noValidate':case'open':case'playsInline':case'readOnly':case'required':case'reversed':case'scoped':case'seamless':case'itemScope':{//SomeoftheseneedtobelowercasetoremovethemfromtheextraAttributeslist.hydrateBooleanAttribute(domElement,propKey,propKey.toLowerCase(),value,extraAttributes,);continue;}case'capture':case'download':{hydrateOverloadedBooleanAttribute(domElement,propKey,propKey,value,extraAttributes,);continue;}case'cols':case'rows':case'size':case'span':{hydratePositiveNumericAttribute(domElement,propKey,propKey,value,extraAttributes,);continue;}case'rowSpan':{hydrateNumericAttribute(domElement,propKey,'rowspan',value,extraAttributes,);continue;}case'start':{hydrateNumericAttribute(domElement,propKey,propKey,value,extraAttributes,);continue;}case'xHeight':hydrateAttribute(domElement,propKey,'x-height',value,extraAttributes,);continue;case'xlinkActuate':hydrateAttribute(domElement,propKey,'xlink:actuate',value,extraAttributes,);continue;case'xlinkArcrole':hydrateAttribute(domElement,propKey,'xlink:arcrole',value,extraAttributes,);continue;case'xlinkRole':hydrateAttribute(domElement,propKey,'xlink:role',value,extraAttributes,);continue;case'xlinkShow':hydrateAttribute(domElement,propKey,'xlink:show',value,extraAttributes,);continue;case'xlinkTitle':hydrateAttribute(domElement,propKey,'xlink:title',value,extraAttributes,);continue;case'xlinkType':hydrateAttribute(domElement,propKey,'xlink:type',value,extraAttributes,);continue;case'xmlBase':hydrateAttribute(domElement,propKey,'xml:base',value,extraAttributes,);continue;case'xmlLang':hydrateAttribute(domElement,propKey,'xml:lang',value,extraAttributes,);continue;case'xmlSpace':hydrateAttribute(domElement,propKey,'xml:space',value,extraAttributes,);continue;default:{if(//shouldIgnoreAttribute//Wehavealreadyfilteredoutnull/undefinedandreservedwords.propKey.length>2&&(propKey[0]==='o'||propKey[0]==='O')&&(propKey[1]==='n'||propKey[1]==='N')){continue;}constattributeName=getAttributeAlias(propKey);letisMismatchDueToBadCasing=false;//ThisisaDEV-onlypathconsthostContextDev:HostContextDev=(hostContext:any);consthostContextProd=hostContextDev.context;if(hostContextProd===HostContextNamespaceNone&&tag!=='svg'&&tag!=='math'){extraAttributes.delete(attributeName.toLowerCase());}else{conststandardName=getPossibleStandardName(propKey);if(standardName!==null&&standardName!==propKey){//IfanSVGpropissuppliedwithbadcasing,itwill//besuccessfullyparsedfromHTML,butwillproduceamismatch//(andwouldbeincorrectlyrenderedontheclient).//However,wealreadywarnaboutbadcasingelsewhere.//Sowe'llskipthemisleadingextramismatchwarninginthiscase.isMismatchDueToBadCasing=true;extraAttributes.delete(standardName);}extraAttributes.delete(attributeName);}constserverValue=getValueForAttribute(domElement,attributeName,value,);if(!isMismatchDueToBadCasing){warnForPropDifference(propKey,serverValue,value);}}}}}exportfunctiondiffHydratedProperties(domElement:Element,tag:string,props:Object,isConcurrentMode:boolean,shouldWarnDev:boolean,hostContext:HostContext,):null|Array<mixed>{if(__DEV__){validatePropertiesInDevelopment(tag,props);}//TODO:MakesurethatwecheckisMountedbeforefiringanyoftheseevents.switch(tag){case'dialog':listenToNonDelegatedEvent('cancel',domElement);listenToNonDelegatedEvent('close',domElement);break;case'iframe':case'object':case'embed'://Welistentothiseventincasetoensureemulatedbubble//listenersstillfirefortheloadevent.listenToNonDelegatedEvent('load',domElement);break;case'video':case'audio'://Welistentotheseeventsincasetoensureemulatedbubble//listenersstillfireforallthemediaevents.for(leti=0;i<mediaEventTypes.length;i++){listenToNonDelegatedEvent(mediaEventTypes[i],domElement);}break;case'source'://Welistentothiseventincasetoensureemulatedbubble//listenersstillfirefortheerrorevent.listenToNonDelegatedEvent('error',domElement);break;case'img':case'image':case'link'://Welistentotheseeventsincasetoensureemulatedbubble//listenersstillfireforerrorandloadevents.listenToNonDelegatedEvent('error',domElement);listenToNonDelegatedEvent('load',domElement);break;case'details'://Welistentothiseventincasetoensureemulatedbubble//listenersstillfireforthetoggleevent.listenToNonDelegatedEvent('toggle',domElement);break;case'input':if(__DEV__){checkControlledValueProps('input',props);}//Welistentothiseventincasetoensureemulatedbubble//listenersstillfirefortheinvalidevent.listenToNonDelegatedEvent('invalid',domElement);//TODO:Makesurewecheckifthisisstillunmountedordoanyclean//upnecessarysinceweneverstoptrackinganymore.validateInputProps(domElement,props);//Forinputandtextareawecurrentalwayssetthevaluepropertyat//postmounttoforceittodivergefromattributes.However,for//optionandselectwedon'tquitedothesamethingandselect//isnotresilienttotheDOMstatechangingsowedon'tdothathere.//TODO:Considernotdoingthisforinputandtextarea.initInput(domElement,props.value,props.defaultValue,props.checked,props.defaultChecked,props.type,props.name,true,);track((domElement:any));break;case'option':validateOptionProps(domElement,props);break;case'select':if(__DEV__){checkControlledValueProps('select',props);}//Welistentothiseventincasetoensureemulatedbubble//listenersstillfirefortheinvalidevent.listenToNonDelegatedEvent('invalid',domElement);validateSelectProps(domElement,props);break;case'textarea':if(__DEV__){checkControlledValueProps('textarea',props);}//Welistentothiseventincasetoensureemulatedbubble//listenersstillfirefortheinvalidevent.listenToNonDelegatedEvent('invalid',domElement);//TODO:Makesurewecheckifthisisstillunmountedordoanyclean//upnecessarysinceweneverstoptrackinganymore.validateTextareaProps(domElement,props);initTextarea(domElement,props.value,props.defaultValue,props.children);track((domElement:any));break;}letupdatePayload=null;constchildren=props.children;//FortextcontentchildrenwecompareagainsttextContent.This//mightmatchadditionalHTMLthatishiddenwhenwereaditusing//textContent.E.g."foo"willmatch"f<span>oo</span>"butthatstill//satisfiesourrequirement.Ourrequirementisnottoproduceperfect//HTMLandattributes.Ideallyweshouldpreservestructurebutit's//oknottoifthevisiblecontentisstillenoughtoindicatewhat//evenlistenersthesenodesmightbewiredupto.//TODO:WarnifthereismorethanasingletextNodeasachild.//TODO:ShouldweusedomElement.firstChild.nodeValuetocompare?if(typeofchildren==='string'||typeofchildren==='number'){if(domElement.textContent!==''+children){if(props.suppressHydrationWarning!==true){checkForUnmatchedText(domElement.textContent,children,isConcurrentMode,shouldWarnDev,);}if(!isConcurrentMode||!enableClientRenderFallbackOnTextMismatch){if(diffInCommitPhase){//Wereallyshouldbepatchingthisinthecommitphasebutsince//thisonlyaffectslegacymodehydrationwhichisdeprecatedanyway//wecangetawaywithit.//Hostsingletonsgettheirchildrenappendedanddon'tusethetext//contentmechanism.if(!enableHostSingletons||tag!=='body'){domElement.textContent=(children:any);}}else{updatePayload=['children',children];}}}}if(props.onScroll!=null){listenToNonDelegatedEvent('scroll',domElement);}if(props.onClick!=null){//TODO:ThiscastmaynotbesoundforSVG,MathMLorcustomelements.trapClickOnNonInteractiveElement(((domElement:any):HTMLElement));}if(__DEV__&&shouldWarnDev){constextraAttributes:Set<string>=newSet();constattributes=domElement.attributes;for(leti=0;i<attributes.length;i++){constname=attributes[i].name.toLowerCase();switch(name){//Controlledattributesarenotvalidated//TODO:Onlyignorethemoncontrolledtags.case'value':break;case'checked':break;case'selected':break;default://Intentionallyusetheoriginalname.//Seediscussioninhttps://github.com/facebook/react/pull/10676.extraAttributes.add(attributes[i].name);}}if(isCustomElement(tag,props)){diffHydratedCustomComponent(domElement,tag,props,hostContext,extraAttributes,);}else{diffHydratedGenericElement(domElement,tag,props,hostContext,extraAttributes,);}if(extraAttributes.size>0&&props.suppressHydrationWarning!==true){warnForExtraAttributes(extraAttributes);}}returnupdatePayload;}exportfunctiondiffHydratedText(textNode:Text,text:string,isConcurrentMode:boolean,):boolean{constisDifferent=textNode.nodeValue!==text;returnisDifferent;}exportfunctionwarnForDeletedHydratableElement(parentNode:Element|Document|DocumentFragment,child:Element,){if(__DEV__){if(didWarnInvalidHydration){return;}didWarnInvalidHydration=true;console.error('DidnotexpectserverHTMLtocontaina<%s>in<%s>.',child.nodeName.toLowerCase(),parentNode.nodeName.toLowerCase(),);}}exportfunctionwarnForDeletedHydratableText(parentNode:Element|Document|DocumentFragment,child:Text,){if(__DEV__){if(didWarnInvalidHydration){return;}didWarnInvalidHydration=true;console.error('DidnotexpectserverHTMLtocontainthetextnode"%s"in<%s>.',child.nodeValue,parentNode.nodeName.toLowerCase(),);}}exportfunctionwarnForInsertedHydratedElement(parentNode:Element|Document|DocumentFragment,tag:string,props:Object,){if(__DEV__){if(didWarnInvalidHydration){return;}didWarnInvalidHydration=true;console.error('ExpectedserverHTMLtocontainamatching<%s>in<%s>.',tag,parentNode.nodeName.toLowerCase(),);}}exportfunctionwarnForInsertedHydratedText(parentNode:Element|Document|DocumentFragment,text:string,){if(__DEV__){if(text===''){//Weexpecttoinsertemptytextnodessincethey'renotrepresentedin//theHTML.//TODO:Removethisspecialcaseifwecanjustavoidinsertingempty//textnodes.return;}if(didWarnInvalidHydration){return;}didWarnInvalidHydration=true;console.error('ExpectedserverHTMLtocontainamatchingtextnodefor"%s"in<%s>.',text,parentNode.nodeName.toLowerCase(),);}}exportfunctionrestoreControlledState(domElement:Element,tag:string,props:Object,):void{switch(tag){case'input':restoreControlledInputState(domElement,props);return;case'textarea':restoreControlledTextareaState(domElement,props);return;case'select':restoreControlledSelectState(domElement,props);return;}}