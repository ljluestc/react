import{resolve,loadasreactLoad,getSourceasgetSourceImpl,transformSourceasreactTransformSource,}from'react-server-dom-esm/node-loader';export{resolve};asyncfunctiontextLoad(url,context,defaultLoad){const{format}=context;constresult=awaitdefaultLoad(url,context,defaultLoad);if(result.format==='module'){if(typeofresult.source==='string'){returnresult;}return{source:Buffer.from(result.source).toString('utf8'),format:'module',};}returnresult;}exportasyncfunctionload(url,context,defaultLoad){returnawaitreactLoad(url,context,(u,c)=>{returntextLoad(u,c,defaultLoad);});}asyncfunctiontextTransformSource(source,context,defaultTransformSource){const{format}=context;if(format==='module'){if(typeofsource==='string'){return{source};}return{source:Buffer.from(source).toString('utf8'),};}returndefaultTransformSource(source,context,defaultTransformSource);}asyncfunctiontransformSourceImpl(source,context,defaultTransformSource){returnawaitreactTransformSource(source,context,(s,c)=>{returntextTransformSource(s,c,defaultTransformSource);});}exportconsttransformSource=process.version<'v16'?transformSourceImpl:undefined;exportconstgetSource=process.version<'v16'?getSourceImpl:undefined;